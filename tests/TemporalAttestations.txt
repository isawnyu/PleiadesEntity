Boundary conditions for TemporalAttestations
=========================

Setup
-----

    >>> folder = self.folder


Utility tests
-------------

    >>> from Products.PleiadesEntity.Extensions.loader import format_listofstrings
    >>> format_listofstrings([])
    u''
    >>> format_listofstrings(['x'])
    u'x'
    >>> format_listofstrings(['x', 'y'])
    u'x and y'
    >>> format_listofstrings(['x', 'y', 'z'])
    u'x, y and z'
    
    >>> from Products.PleiadesEntity.Extensions.xmlutil import purifyText
    >>> purifyText(u'aaa') == u'aaa'
    True
    >>> purifyText(u'abab') == u'abab'
    True
    >>> purifyText(u'Magie\U000000A01950,\U000000A0989') == u'Magie 1950, 989'
    True
   
Load one entity
---------------

    >>> TEST_DATA = self.test_params.TEST_DATA
    >>> from Products.PleiadesEntity.Extensions.loader import load_place
    >>> r = load_place(folder, "%s/timetwister.xml" % TEST_DATA)
    >>> nids = r['name_ids']
    >>> len(nids)
    2

    Test names
    
    >>> names = folder['names']
    >>> n0 = names[nids[0]]
    >>> tps = n0.getFolderContents({'meta_type':['TemporalAttestation']})
    >>> len(tps)
    2
    >>> tps0 = tps[0].getObject()
    >>> tps0.Title()
    'Attested: Classical (550 - 330 BC)'
    >>> tps0.getId()
    'classical'
    >>> tps0.getAttestationConfidence()
    'confident'
    
    >>> tps1 = tps[1].getObject()
    >>> tps1.Title()
    'Attested: Hellenistic (Roman Republic; 330 - 30 BC)?'
    >>> tps1.getId()
    'hellenistic-republican'
    >>> tps1.getAttestationConfidence()
    'less-confident'
    
    >>> n1 = names[nids[1]]
    >>> tps = n1.getFolderContents({'meta_type':['TemporalAttestation']})
    >>> len(tps)
    2
    >>> tps0 = tps[0].getObject()
    >>> tps0.Title()
    'Attested: Roman (Early Empire; 30 BC - AD 300) - inferred'
    >>> tps0.getId()
    'roman'
    >>> tps0.getAttestationConfidence()
    'confident-inferred'
   
    >>> tps1 = tps[1].getObject()
    >>> tps1.Title()
    'Attested: Late Antique (AD 300 - 640)? - inferred'
    >>> tps1.getId()
    'late-antique'
    >>> tps1.getAttestationConfidence()
    'less-confident-inferred'

    Test locations

    >>> lids = r['location_ids']
    >>> l0 = folder['locations'][lids[0]]
    >>> tps = l0.getFolderContents({'meta_type':['TemporalAttestation']})
    >>> len(tps)
    5
    >>> tps0 = tps[0].getObject()
    >>> tps0.Title()
    'Attested: Archaic (pre-550 BC)'
    >>> tps0.getId()
    'archaic'
    >>> tps0.getAttestationConfidence()
    'confident'
   
    >>> tps1 = tps[1].getObject()
    >>> tps1.Title()
    'Attested: Classical (550 - 330 BC)'
    >>> tps1.getId()
    'classical'
    >>> tps1.getAttestationConfidence()
    'confident'
   
    >>> tps2 = tps[2].getObject()
    >>> tps2.Title()
    'Attested: Hellenistic (Roman Republic; 330 - 30 BC)?'
    >>> tps2.getId()
    'hellenistic-republican'
    >>> tps2.getAttestationConfidence()
    'less-confident'
   
    >>> tps3 = tps[3].getObject()
    >>> tps3.Title()
    'Attested: Roman (Early Empire; 30 BC - AD 300)'
    >>> tps3.getId()
    'roman'
    >>> tps3.getAttestationConfidence()
    'confident'
   
    >>> tps4 = tps[4].getObject()
    >>> tps4.Title()
    'Attested: Late Antique (AD 300 - 640)?'
    >>> tps4.getId()
    'late-antique'
    >>> tps4.getAttestationConfidence()
    'less-confident'
    
